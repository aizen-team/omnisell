<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="OmniSell - Đăng nhập vào nền tảng quản lý bán hàng đa kênh với AI">
    <title>Đăng nhập - OmniSell</title>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Preload critical resources -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary: #3B82F6;
            --primary-dark: #1D4ED8;
            --success: #10B981;
            --error: #EF4444;
            --warning: #F59E0B;
            --gray-50: #F9FAFB;
            --gray-100: #F3F4F6;
            --gray-200: #E5E7EB;
            --gray-300: #D1D5DB;
            --gray-400: #9CA3AF;
            --gray-500: #6B7280;
            --gray-600: #4B5563;
            --gray-700: #374151;
            --gray-800: #1F2937;
            --gray-900: #111827;
        }
        
        * {
            font-family: 'Inter', system-ui, sans-serif;
        }
        
        /* Prevent scroll and ensure full height */
        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
            overflow: hidden;
        }
        
        /* Mobile viewport fix */
        @supports (-webkit-touch-callout: none) {
            .h-screen {
                height: -webkit-fill-available;
            }
        }
        
        /* Main container */
        .main-container {
            height: 100vh;
            height: -webkit-fill-available;
            display: flex;
            overflow: hidden;
        }
        
        /* Focus styles */
        *:focus {
            outline: none;
        }
        
        *:focus-visible {
            outline: 2px solid var(--primary);
            outline-offset: 2px;
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
        }
        
        .gradient-text {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        /* Form container with mobile optimization */
        .form-container {
            width: 100%;
            height: 100%;
            overflow-y: auto;
            overflow-x: hidden;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: thin;
            scrollbar-color: rgba(0,0,0,0.2) transparent;
        }
        
        .form-container::-webkit-scrollbar {
            width: 6px;
        }
        
        .form-container::-webkit-scrollbar-track {
            background: transparent;
        }
        
        .form-container::-webkit-scrollbar-thumb {
            background-color: rgba(0,0,0,0.2);
            border-radius: 3px;
        }
        
        /* Mobile-first form wrapper */
        .form-wrapper {
            min-height: 100%;
            display: flex;
            flex-direction: column;
            padding: 1.5rem;
        }
        
        @media (min-width: 640px) {
            .form-wrapper {
                padding: 2rem;
            }
        }
        
        @media (min-width: 1024px) {
            .form-wrapper {
                padding: 3rem;
            }
        }
        
        @media (min-width: 1280px) {
            .form-wrapper {
                padding: 3rem 5rem;
            }
        }
        
        /* Form content centering */
        .form-content {
            /* flex: 1; */
            display: flex;
            flex-direction: column;
            justify-content: center;
            max-width: 28rem;
            width: 100%;
            margin: 0 auto;
        }
        
        /* Responsive form spacing */
        .form-spacing > * + * {
            margin-top: 1rem;
        }
        
        @media (min-width: 640px) {
            .form-spacing > * + * {
                margin-top: 1.25rem;
            }
        }
        
        /* Form inputs with mobile optimization */
        .form-input {
            transition: all 0.2s ease;
            background-color: var(--gray-50);
            font-size: 16px; /* Prevent zoom on iOS */
        }
        
        .form-input:hover {
            background-color: white;
            border-color: var(--gray-400);
        }
        
        .form-input:focus {
            background-color: white;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }
        
        /* Tab navigation responsive */
        .tab-button {
            padding: 0.625rem 1rem;
            font-size: 0.875rem;
        }
        
        @media (min-width: 640px) {
            .tab-button {
                padding: 0.75rem 1.5rem;
                font-size: 1rem;
            }
        }
        
        /* Password strength */
        .strength-bar {
            height: 3px;
            border-radius: 2px;
            transition: all 0.3s ease;
        }
        
        .strength-weak { background-color: var(--error); width: 33.33%; }
        .strength-medium { background-color: var(--warning); width: 66.66%; }
        .strength-strong { background-color: var(--success); width: 100%; }
        
        /* Social buttons responsive */
        .social-button {
            transition: all 0.2s ease;
            position: relative;
            overflow: hidden;
            padding: 0.625rem 1rem;
            font-size: 0.875rem;
        }
        
        @media (min-width: 640px) {
            .social-button {
                padding: 0.75rem 1.5rem;
            }
        }
        
        .social-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: rgba(59, 130, 246, 0.1);
            transition: left 0.3s ease;
        }
        
        .social-button:hover::before {
            left: 0;
        }
        
        .social-button:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        /* Mobile-optimized animations */
        @keyframes slideInLeft {
            from { 
                opacity: 0;
                transform: translateX(-10px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        .slide-in-left {
            animation: slideInLeft 0.3s ease-out;
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-out;
        }
        
        .float {
            animation: float 3s ease-in-out infinite;
        }
        
        /* Disable animations on mobile for performance */
        @media (max-width: 768px) {
            .float {
                animation: none;
            }
        }
        
        /* Reduced motion */
        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }
        
        /* Error states */
        .input-error {
            border-color: var(--error) !important;
            background-color: #FEF2F2 !important;
        }
        
        .error-message {
            color: var(--error);
            font-size: 0.75rem;
            margin-top: 0.25rem;
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }
        
        /* Loading state */
        .btn-loading {
            position: relative;
            color: transparent;
        }
        
        .btn-loading::after {
            content: '';
            position: absolute;
            width: 16px;
            height: 16px;
            top: 50%;
            left: 50%;
            margin-left: -8px;
            margin-top: -8px;
            border: 2px solid #ffffff;
            border-radius: 50%;
            border-top-color: transparent;
            animation: spinner 0.6s linear infinite;
        }
        
        @keyframes spinner {
            to { transform: rotate(360deg); }
        }
        
        /* Custom checkbox responsive */
        .custom-checkbox {
            appearance: none;
            width: 18px;
            height: 18px;
            min-width: 18px;
            border: 2px solid var(--gray-300);
            border-radius: 4px;
            position: relative;
            cursor: pointer;
            transition: all 0.2s ease;
            flex-shrink: 0;
        }
        
        .custom-checkbox:hover {
            border-color: var(--primary);
        }
        
        .custom-checkbox:checked {
            background-color: var(--primary);
            border-color: var(--primary);
        }
        
        .custom-checkbox:checked::after {
            content: '';
            position: absolute;
            left: 5px;
            top: 2px;
            width: 4px;
            height: 8px;
            border: solid white;
            border-width: 0 2px 2px 0;
            transform: rotate(45deg);
        }
        
        /* Toast notification responsive */
        .toast {
            position: fixed;
            bottom: 24px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: white;
            padding: 12px 20px;
            border-radius: 8px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
            display: flex;
            align-items: center;
            gap: 10px;
            transition: transform 0.3s ease;
            z-index: 1000;
            max-width: 90%;
            font-size: 0.875rem;
        }
        
        .toast.show {
            transform: translateX(-50%) translateY(0);
        }
        
        /* Hero section responsive */
        .hero-section {
            display: none;
        }
        
        @media (min-width: 1024px) {
            .hero-section {
                display: flex;
                width: 50%;
            }
        }
        
        .hero-pattern {
            background-image: 
                radial-gradient(circle at 20% 80%, rgba(255,255,255,0.05) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255,255,255,0.05) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(255,255,255,0.02) 0%, transparent 50%);
        }
        
        /* Mobile form adjustments */
        @media (max-width: 640px) {
            .form-title {
                font-size: 1.25rem;
            }
            
            .form-subtitle {
                font-size: 0.875rem;
            }
            
            .submit-button {
                padding: 0.625rem 1rem;
            }
        }
        
        /* Icons */
        .icon-shopee {
            background-color: #EE4D2D;
            color: white;
            width: 20px;
            height: 20px;
            min-width: 20px;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
        }
        
        .icon-tiktok {
            width: 20px;
            height: 20px;
            min-width: 20px;
        }
        
        /* Safe area insets for mobile */
        @supports (padding: max(0px)) {
            .form-wrapper {
                padding-left: max(1.5rem, env(safe-area-inset-left));
                padding-right: max(1.5rem, env(safe-area-inset-right));
                padding-bottom: max(1.5rem, env(safe-area-inset-bottom));
            }
        }
    </style>
</head>
<body>
    <div class="main-container">
        <!-- Left Column - Form -->
        <div class="form-container w-full lg:w-1/2">
            <div class="form-wrapper flex flex-col min-h-full p-6 sm:p-8 lg:p-12 xl:px-20">
                <!-- Logo -->
                <div class="flex items-center space-x-2 mb-4 sm:mb-6 lg:mb-8 slide-in-left">
                    <div class="w-10 h-10 gradient-bg rounded-lg flex items-center justify-center">
                        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"></path>
                        </svg>
                    </div>
                    <span class="text-xl sm:text-2xl font-bold gradient-text">OmniSell</span>
                </div>
                
                <!-- Form Content -->
                <div class="form-content">
                    <!-- Tab Navigation -->
                    <div class="flex mb-4 sm:mb-6 bg-gray-100 rounded-lg p-1" role="tablist">
                        <button id="loginTab" 
                                class="tab-button flex-1 rounded-md font-medium text-white gradient-bg transition-all duration-200" 
                                onclick="switchTab('login')"
                                role="tab"
                                aria-selected="true"
                                aria-controls="loginForm">
                            Đăng nhập
                        </button>
                        <button id="registerTab" 
                                class="tab-button flex-1 rounded-md font-medium text-gray-700 hover:text-gray-900 transition-all duration-200" 
                                onclick="switchTab('register')"
                                role="tab"
                                aria-selected="false"
                                aria-controls="registerForm">
                            Đăng ký
                        </button>
                    </div>
                    
                    <!-- Login Form -->
                    <div id="loginForm" class="form-spacing" role="tabpanel" aria-labelledby="loginTab">
                        <div>
                            <h1 class="form-title text-xl sm:text-2xl font-bold text-gray-900 mb-1">Chào mừng trở lại!</h1>
                            <p class="form-subtitle text-gray-600 text-sm sm:text-base">Đăng nhập để quản lý cửa hàng của bạn</p>
                        </div>
                        
                        <!-- Email/Password Form -->
                        <!-- onsubmit="handleLogin(event)"  -->
                        <form action="dashboard.html" 
                        class="space-y-3 sm:space-y-4" novalidate>
                            <div>
                                <label for="loginEmail" class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                                <input type="email" 
                                       id="loginEmail"
                                       name="email"
                                       required 
                                       autocomplete="email"
                                       class="form-input w-full px-3 sm:px-4 py-2 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                       placeholder="name@company.com">
                                <div id="loginEmailError" class="error-message hidden">
                                    <svg class="w-3 h-3 sm:w-4 sm:h-4" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"/>
                                    </svg>
                                    <span>Email không hợp lệ</span>
                                </div>
                            </div>
                            
                            <div>
                                <label for="loginPassword" class="block text-sm font-medium text-gray-700 mb-1">Mật khẩu</label>
                                <div class="relative">
                                    <input type="password" 
                                           id="loginPassword"
                                           name="password"
                                           required
                                           autocomplete="current-password"
                                           class="form-input w-full px-3 sm:px-4 py-2 sm:py-2.5 pr-10 sm:pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                           placeholder="••••••••">
                                    <button type="button" 
                                            onclick="togglePassword('loginPassword')" 
                                            class="absolute right-2 sm:right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 p-1">
                                        <svg class="w-4 h-4 sm:w-5 sm:h-5 eye-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
                                        </svg>
                                        <svg class="w-4 h-4 sm:w-5 sm:h-5 eye-slash-icon hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"></path>
                                        </svg>
                                    </button>
                                </div>
                                <div id="loginPasswordError" class="error-message hidden">
                                    <svg class="w-3 h-3 sm:w-4 sm:h-4" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"/>
                                    </svg>
                                    <span>Mật khẩu là bắt buộc</span>
                                </div>
                            </div>
                            
                            <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2">
                                <label class="flex items-center cursor-pointer">
                                    <input type="checkbox" name="remember" class="custom-checkbox mr-2">
                                    <span class="text-xs sm:text-sm text-gray-700 select-none">Ghi nhớ đăng nhập</span>
                                </label>
                                <a href="#" class="text-xs sm:text-sm text-blue-600 hover:text-blue-700 font-medium">Quên mật khẩu?</a>
                            </div>
                            
                            <button type="submit" 
                                    class="submit-button w-full py-2.5 sm:py-3 px-4 gradient-bg text-white font-medium rounded-lg hover:shadow-lg transition-all duration-200 transform hover:scale-[1.02] text-sm sm:text-base">
                                Đăng nhập
                            </button>
                        </form>

                        <!-- Divider -->
                        <div class="relative">
                            <div class="absolute inset-0 flex items-center">
                                <div class="w-full border-t border-gray-300"></div>
                            </div>
                            <div class="relative flex justify-center text-sm">
                                <span class="px-3 bg-gray-50 text-gray-500">Hoặc</span>
                            </div>
                        </div>

                        <!-- Social Login -->
                        <div class="space-y-2 sm:space-y-3">
                            <button class="social-button w-full flex items-center justify-center space-x-2 sm:space-x-3 border border-gray-300 rounded-lg hover:bg-gray-50">
                                <svg class="w-5 h-5" viewBox="0 0 24 24">
                                    <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                                    <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                                    <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                                    <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                                </svg>
                                <span class="font-medium text-gray-700 text-sm sm:text-base">Tiếp tục với Google</span>
                            </button>
                            
                            <div class="grid grid-cols-2 gap-2">
                                <button class="social-button flex items-center justify-center space-x-1 sm:space-x-2 border border-gray-300 rounded-lg hover:bg-gray-50">
                                    <div class="icon-shopee">S</div>
                                    <span class="font-medium text-gray-700 text-sm">Shopee</span>
                                </button>
                                
                                <button class="social-button flex items-center justify-center space-x-1 sm:space-x-2 border border-gray-300 rounded-lg hover:bg-gray-50">
                                    <svg class="icon-tiktok" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11 1.04-1.36 1.75-.21.51-.15 1.07-.14 1.61.24 1.64 1.82 3.02 3.5 2.87 1.12-.01 2.19-.66 2.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07z"/>
                                    </svg>
                                    <span class="font-medium text-gray-700 text-sm">TikTok</span>
                                </button>
                            </div>
                        </div>
                        
                        <p class="text-center text-xs sm:text-sm text-gray-600">
                            Chưa có tài khoản? 
                            <button onclick="switchTab('register')" class="text-blue-600 hover:text-blue-700 font-medium">Đăng ký ngay</button>
                        </p>
                    </div>
                    
                    <!-- Register Form -->
                    <div id="registerForm" class="form-spacing hidden" role="tabpanel" aria-labelledby="registerTab">
                        <div>
                            <h1 class="form-title text-xl sm:text-2xl font-bold text-gray-900 mb-1">Tạo tài khoản mới</h1>
                            <p class="form-subtitle text-gray-600 text-sm sm:text-base">Bắt đầu bán hàng đa kênh trong 5 phút</p>
                        </div>
                        
                        <!-- Register Form Fields -->
                        <form onsubmit="handleRegister(event)" class="space-y-3" novalidate>
                            <div class="grid grid-cols-2 gap-2 sm:gap-3">
                                <div>
                                    <label for="firstName" class="block text-xs sm:text-sm font-medium text-gray-700 mb-1">Họ</label>
                                    <input type="text" 
                                           id="firstName"
                                           name="firstName"
                                           required 
                                           autocomplete="given-name"
                                           class="form-input w-full px-2 sm:px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"
                                           placeholder="Nguyễn">
                                </div>
                                <div>
                                    <label for="lastName" class="block text-xs sm:text-sm font-medium text-gray-700 mb-1">Tên</label>
                                    <input type="text" 
                                           id="lastName"
                                           name="lastName"
                                           required 
                                           autocomplete="family-name"
                                           class="form-input w-full px-2 sm:px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"
                                           placeholder="Văn A">
                                </div>
                            </div>
                            
                            <div>
                                <label for="registerEmail" class="block text-xs sm:text-sm font-medium text-gray-700 mb-1">Email</label>
                                <input type="email" 
                                       id="registerEmail"
                                       name="email"
                                       required 
                                       autocomplete="email"
                                       class="form-input w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"
                                       placeholder="name@company.com">
                                <div id="registerEmailError" class="error-message hidden">
                                    <svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"/>
                                    </svg>
                                    <span>Email không hợp lệ</span>
                                </div>
                            </div>
                            
                            <div>
                                <label for="registerPassword" class="block text-xs sm:text-sm font-medium text-gray-700 mb-1">Mật khẩu</label>
                                <div class="relative">
                                    <input type="password" 
                                           id="registerPassword"
                                           name="password"
                                           required
                                           autocomplete="new-password"
                                           class="form-input w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"
                                           placeholder="Tối thiểu 8 ký tự">
                                    <button type="button" 
                                            onclick="togglePassword('registerPassword')" 
                                            class="absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 p-1">
                                        <svg class="w-4 h-4 eye-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
                                        </svg>
                                        <svg class="w-4 h-4 eye-slash-icon hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"></path>
                                        </svg>
                                    </button>
                                </div>
                                <!-- Password strength indicator -->
                                <div class="mt-1">
                                    <div class="bg-gray-200 rounded-full h-1 overflow-hidden">
                                        <div id="strengthBar" class="strength-bar" style="width: 0;"></div>
                                    </div>
                                </div>
                                <div class="mt-1 space-y-0.5">
                                    <div class="flex items-center text-xs">
                                        <svg id="lengthCheck" class="w-3 h-3 mr-1 text-gray-300" fill="currentColor" viewBox="0 0 20 20">
                                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                                        </svg>
                                        <span class="text-gray-600">Ít nhất 8 ký tự</span>
                                    </div>
                                    <div class="flex items-center text-xs">
                                        <svg id="caseCheck" class="w-3 h-3 mr-1 text-gray-300" fill="currentColor" viewBox="0 0 20 20">
                                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                                        </svg>
                                        <span class="text-gray-600">Chữ hoa và chữ thường</span>
                                    </div>
                                    <div class="flex items-center text-xs">
                                        <svg id="numberCheck" class="w-3 h-3 mr-1 text-gray-300" fill="currentColor" viewBox="0 0 20 20">
                                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                                        </svg>
                                        <span class="text-gray-600">Ít nhất 1 số</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div>
                                <label class="flex items-start cursor-pointer">
                                    <input type="checkbox" name="terms" required class="custom-checkbox mr-2 mt-0.5">
                                    <span class="text-xs text-gray-700 select-none">
                                        Tôi đồng ý với <a href="#" class="text-blue-600 hover:text-blue-700">Điều khoản dịch vụ</a> 
                                        và <a href="#" class="text-blue-600 hover:text-blue-700">Chính sách bảo mật</a>
                                    </span>
                                </label>
                            </div>
                            
                            <button type="submit" 
                                    class="submit-button w-full py-2.5 sm:py-3 px-4 gradient-bg text-white font-medium rounded-lg hover:shadow-lg transition-all duration-200 transform hover:scale-[1.02] text-sm sm:text-base">
                                Tạo tài khoản
                            </button>
                        </form>

                        <!-- Divider -->
                        <div class="relative">
                            <div class="absolute inset-0 flex items-center">
                                <div class="w-full border-t border-gray-300"></div>
                            </div>
                            <div class="relative flex justify-center text-sm">
                                <span class="px-3 bg-gray-50 text-gray-500">Hoặc</span>
                            </div>
                        </div>

                        <!-- Social Register -->
                        <div>
                            <button class="social-button w-full flex items-center justify-center space-x-2 sm:space-x-3 border border-gray-300 rounded-lg hover:bg-gray-50">
                                <svg class="w-5 h-5" viewBox="0 0 24 24">
                                    <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                                    <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                                    <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                                    <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                                </svg>
                                <span class="font-medium text-gray-700 text-sm sm:text-base">Đăng ký với Google</span>
                            </button>
                        </div>
                        
                        <p class="text-center text-xs sm:text-sm text-gray-600">
                            Đã có tài khoản? 
                            <button onclick="switchTab('login')" class="text-blue-600 hover:text-blue-700 font-medium">Đăng nhập</button>
                        </p>
                    </div>
                </div>
                
                <!-- Footer - Only visible on larger screens -->
                <div class="mt-4 sm:mt-6 text-center text-xs text-gray-500 lg:block">
                    <p>&copy; 2025 OmniSell. All rights reserved.</p>
                </div>
            </div>
        </div>
        
        <!-- Right Column - Hero (Desktop only) -->
        <div class="hero-section lg:block lg:w-1/2 gradient-bg relative overflow-hidden">
            <div class="absolute inset-0 hero-pattern"></div>
            <div class="relative h-full flex flex-col items-center justify-center p-8 lg:p-12 xl:p-16 text-white">
                <!-- Animated elements -->
                <div class="absolute top-10 left-10 opacity-10 float hidden xl:block">
                    <svg class="w-24 h-24" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                    </svg>
                </div>
                <div class="absolute bottom-10 right-10 opacity-10 float hidden xl:block" style="animation-delay: 1.5s;">
                    <svg class="w-32 h-32" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"/>
                    </svg>
                </div>
                
                <!-- Content -->
                <div class="max-w-lg text-center fade-in z-10">
                    <div class="mb-6 lg:mb-8">
                        <div class="bg-white/10 backdrop-blur-sm rounded-2xl p-6">
                            <div class="flex justify-center space-x-3 mb-4">
                                <div class="w-10 h-10 lg:w-12 lg:h-12 bg-white/20 rounded-lg flex items-center justify-center">
                                    <svg class="w-5 h-5 lg:w-6 lg:h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                                    </svg>
                                </div>
                                <div class="w-10 h-10 lg:w-12 lg:h-12 bg-white/20 rounded-lg flex items-center justify-center">
                                    <svg class="w-5 h-5 lg:w-6 lg:h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                                    </svg>
                                </div>
                                <div class="w-10 h-10 lg:w-12 lg:h-12 bg-white/20 rounded-lg flex items-center justify-center">
                                    <svg class="w-5 h-5 lg:w-6 lg:h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                                    </svg>
                                </div>
                            </div>
                            <h3 class="text-lg font-semibold mb-2">AI-Powered Multichannel</h3>
                            <p class="text-white/80 text-sm">Tự động hóa quy trình bán hàng với AI thông minh</p>
                        </div>
                    </div>
                    
                    <h2 class="text-2xl lg:text-3xl font-bold mb-3 lg:mb-4">Quản lý thông minh với AI</h2>
                    <p class="text-base lg:text-lg text-white/90 mb-6">
                        Tích hợp AI chatbot, phân tích dữ liệu tự động và gợi ý sản phẩm thông minh. 
                        Tăng doanh thu 40% với công nghệ AI tiên tiến.
                    </p>
                    
                    <!-- Features -->
                    <div class="grid grid-cols-3 gap-4 text-center mb-6">
                        <div>
                            <div class="text-xl lg:text-2xl font-bold mb-1">5K+</div>
                            <div class="text-xs text-white/70">Người bán</div>
                        </div>
                        <div>
                            <div class="text-xl lg:text-2xl font-bold mb-1">1M+</div>
                            <div class="text-xs text-white/70">Đơn/tháng</div>
                        </div>
                        <div>
                            <div class="text-xl lg:text-2xl font-bold mb-1">AI</div>
                            <div class="text-xs text-white/70">Tích hợp</div>
                        </div>
                    </div>
                    
                    <!-- Testimonial -->
                    <div class="bg-white/10 backdrop-blur-sm rounded-xl p-4 lg:p-5">
                        <div class="flex items-center justify-center mb-2">
                            <svg class="w-4 h-4 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                            </svg>
                            <svg class="w-4 h-4 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                            </svg>
                            <svg class="w-4 h-4 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                            </svg>
                            <svg class="w-4 h-4 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                            </svg>
                            <svg class="w-4 h-4 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                            </svg>
                        </div>
                        <p class="text-white/90 italic mb-2 text-sm">
                            "AI chatbot của OmniSell giúp tôi trả lời khách 24/7, tăng tỷ lệ chuyển đổi lên 35%!"
                        </p>
                        <p class="font-semibold text-sm">Trần Minh Tuấn</p>
                        <p class="text-xs text-white/70">CEO TechShop</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Toast Notification -->
    <div id="toast" class="toast" role="alert">
        <svg class="w-5 h-5 text-green-500" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
        </svg>
        <span id="toastMessage">Thao tác thành công!</span>
    </div>

    <script>
        // Tab switching
        function switchTab(tab) {
            const loginTab = document.getElementById('loginTab');
            const registerTab = document.getElementById('registerTab');
            const loginForm = document.getElementById('loginForm');
            const registerForm = document.getElementById('registerForm');
            
            if (tab === 'login') {
                loginTab.classList.add('gradient-bg', 'text-white');
                loginTab.classList.remove('text-gray-700');
                registerTab.classList.remove('gradient-bg', 'text-white');
                registerTab.classList.add('text-gray-700');
                
                loginTab.setAttribute('aria-selected', 'true');
                registerTab.setAttribute('aria-selected', 'false');
                
                loginForm.classList.remove('hidden');
                registerForm.classList.add('hidden');
                
                setTimeout(() => {
                    document.getElementById('loginEmail').focus();
                }, 100);
            } else {
                registerTab.classList.add('gradient-bg', 'text-white');
                registerTab.classList.remove('text-gray-700');
                loginTab.classList.remove('gradient-bg', 'text-white');
                loginTab.classList.add('text-gray-700');
                
                registerTab.setAttribute('aria-selected', 'true');
                loginTab.setAttribute('aria-selected', 'false');
                
                registerForm.classList.remove('hidden');
                loginForm.classList.add('hidden');
                
                setTimeout(() => {
                    document.getElementById('firstName').focus();
                }, 100);
            }
        }
        
        // Toggle password visibility
        function togglePassword(inputId) {
            const input = document.getElementById(inputId);
            const button = event.currentTarget;
            const eyeIcon = button.querySelector('.eye-icon');
            const eyeSlashIcon = button.querySelector('.eye-slash-icon');
            
            if (input.type === 'password') {
                input.type = 'text';
                eyeIcon.classList.add('hidden');
                eyeSlashIcon.classList.remove('hidden');
            } else {
                input.type = 'password';
                eyeIcon.classList.remove('hidden');
                eyeSlashIcon.classList.add('hidden');
            }
        }
        
        // Password strength checker
        function checkPasswordStrength(password) {
            let strength = 0;
            const checks = {
                length: password.length >= 8,
                case: /[a-z]/.test(password) && /[A-Z]/.test(password),
                number: /\d/.test(password),
                special: /[!@#$%^&*]/.test(password)
            };
            
            document.getElementById('lengthCheck').style.color = checks.length ? '#10B981' : '#D1D5DB';
            document.getElementById('caseCheck').style.color = checks.case ? '#10B981' : '#D1D5DB';
            document.getElementById('numberCheck').style.color = checks.number ? '#10B981' : '#D1D5DB';
            
            Object.values(checks).forEach(check => {
                if (check) strength++;
            });
            
            const strengthBar = document.getElementById('strengthBar');
            
            if (strength === 0) {
                strengthBar.style.width = '0';
                strengthBar.className = 'strength-bar';
            } else if (strength <= 2) {
                strengthBar.style.width = '33.33%';
                strengthBar.className = 'strength-bar strength-weak';
            } else if (strength === 3) {
                strengthBar.style.width = '66.66%';
                strengthBar.className = 'strength-bar strength-medium';
            } else {
                strengthBar.style.width = '100%';
                strengthBar.className = 'strength-bar strength-strong';
            }
            
            return strength;
        }
        
        // Password validation
        document.getElementById('registerPassword')?.addEventListener('input', function(e) {
            checkPasswordStrength(e.target.value);
        });
        
        // Form validation
        function validateEmail(email) {
            const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return re.test(email);
        }
        
        function showError(inputId, errorId, message) {
            const input = document.getElementById(inputId);
            const error = document.getElementById(errorId);
            
            input.classList.add('input-error');
            error.querySelector('span').textContent = message;
            error.classList.remove('hidden');
        }
        
        function clearError(inputId, errorId) {
            const input = document.getElementById(inputId);
            const error = document.getElementById(errorId);
            
            input.classList.remove('input-error');
            error.classList.add('hidden');
        }
        
        // Email validation
        document.getElementById('loginEmail')?.addEventListener('blur', function() {
            if (!validateEmail(this.value)) {
                showError('loginEmail', 'loginEmailError', 'Email không hợp lệ');
            } else {
                clearError('loginEmail', 'loginEmailError');
            }
        });
        
        document.getElementById('registerEmail')?.addEventListener('blur', function() {
            if (!validateEmail(this.value)) {
                showError('registerEmail', 'registerEmailError', 'Email không hợp lệ');
            } else {
                clearError('registerEmail', 'registerEmailError');
            }
        });
        
        // Toast notification
        function showToast(message, type = 'success') {
            const toast = document.getElementById('toast');
            const toastMessage = document.getElementById('toastMessage');
            const icon = toast.querySelector('svg');
            
            toastMessage.textContent = message;
            
            if (type === 'error') {
                icon.classList.remove('text-green-500');
                icon.classList.add('text-red-500');
            } else {
                icon.classList.remove('text-red-500');
                icon.classList.add('text-green-500');
            }
            
            toast.classList.add('show');
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }
        
        // Handle login
        async function handleLogin(event) {
            event.preventDefault();
            
            const form = event.target;
            const email = form.email.value;
            const password = form.password.value;
            const button = form.querySelector('button[type="submit"]');
            
            if (!validateEmail(email)) {
                showError('loginEmail', 'loginEmailError', 'Email không hợp lệ');
                return;
            }
            
            if (!password) {
                showError('loginPassword', 'loginPasswordError', 'Mật khẩu là bắt buộc');
                return;
            }
            
            clearError('loginEmail', 'loginEmailError');
            clearError('loginPassword', 'loginPasswordError');
            
            button.classList.add('btn-loading');
            button.disabled = true;
            
            try {
                await new Promise(resolve => setTimeout(resolve, 1500));
                
                showToast('Đăng nhập thành công!');
                
                setTimeout(() => {
                    window.location.href = '/dashboard';
                }, 500);
                
            } catch (error) {
                showToast('Đăng nhập thất bại. Vui lòng thử lại.', 'error');
                
                button.classList.remove('btn-loading');
                button.disabled = false;
            }
        }
        
        // Handle register
        async function handleRegister(event) {
            event.preventDefault();
            
            const form = event.target;
            const email = form.email.value;
            const password = form.password.value;
            const terms = form.terms.checked;
            const button = form.querySelector('button[type="submit"]');
            
            if (!validateEmail(email)) {
                showError('registerEmail', 'registerEmailError', 'Email không hợp lệ');
                return;
            }
            
            if (checkPasswordStrength(password) < 3) {
                showToast('Mật khẩu quá yếu. Vui lòng chọn mật khẩu mạnh hơn.', 'error');
                return;
            }
            
            if (!terms) {
                showToast('Vui lòng đồng ý với điều khoản dịch vụ.', 'error');
                return;
            }
            
            clearError('registerEmail', 'registerEmailError');
            
            button.classList.add('btn-loading');
            button.disabled = true;
            
            try {
                await new Promise(resolve => setTimeout(resolve, 1500));
                
                showToast('Tạo tài khoản thành công!');
                
                setTimeout(() => {
                    switchTab('login');
                    showToast('Vui lòng đăng nhập với tài khoản vừa tạo.');
                }, 1500);
                
            } catch (error) {
                showToast('Đăng ký thất bại. Vui lòng thử lại.', 'error');
                
            } finally {
                button.classList.remove('btn-loading');
                button.disabled = false;
            }
        }
        
        // Social login handlers
        document.querySelectorAll('.social-button').forEach(button => {
            button.addEventListener('click', async function() {
                const provider = this.textContent.trim();
                
                this.disabled = true;
                this.style.opacity = '0.7';
                
                try {
                    await new Promise(resolve => setTimeout(resolve, 800));
                    
                    showToast(`Đang chuyển hướng đến ${provider}...`);
                    
                    setTimeout(() => {
                        window.location.href = `/auth/oauth/${provider.toLowerCase()}`;
                    }, 500);
                    
                } catch (error) {
                    showToast('Có lỗi xảy ra. Vui lòng thử lại.', 'error');
                    this.disabled = false;
                    this.style.opacity = '1';
                }
            });
        });
        
        // Auto-focus
        window.addEventListener('load', () => {
            const firstInput = document.querySelector('#loginForm input:not([type="checkbox"])');
            if (firstInput) {
                firstInput.focus();
            }
        });
        
        // Keyboard navigation
        document.addEventListener('keydown', function(e) {
            if (e.key === 'ArrowLeft' || e.key === 'ArrowRight') {
                const activeTab = document.querySelector('[role="tab"][aria-selected="true"]');
                if (activeTab) {
                    e.preventDefault();
                    const newTab = activeTab.id === 'loginTab' ? 'register' : 'login';
                    switchTab(newTab);
                }
            }
            
            if (e.key === 'Enter' && e.target.tagName === 'INPUT' && e.target.type !== 'submit') {
                const form = e.target.closest('form');
                if (form) {
                    const inputs = Array.from(form.querySelectorAll('input:not([type="checkbox"]):not([type="submit"])'));
                    const currentIndex = inputs.indexOf(e.target);
                    
                    if (currentIndex < inputs.length - 1) {
                        e.preventDefault();
                        inputs[currentIndex + 1].focus();
                    }
                }
            }
        });
        
        // Prevent form resubmission
        window.addEventListener('pageshow', function(event) {
            if (event.persisted) {
                document.querySelectorAll('form').forEach(form => form.reset());
                document.querySelectorAll('.btn-loading').forEach(btn => {
                    btn.classList.remove('btn-loading');
                    btn.disabled = false;
                });
            }
        });
        
        // Format email input
        document.querySelectorAll('input[type="email"]').forEach(input => {
            input.addEventListener('input', function() {
                this.value = this.value.toLowerCase();
            });
        });
        
        // Prevent zoom on mobile
        document.addEventListener('gesturestart', function(e) {
            e.preventDefault();
        });
        
        // Handle viewport height on mobile
        function setViewportHeight() {
            const vh = window.innerHeight * 0.01;
            document.documentElement.style.setProperty('--vh', `${vh}px`);
        }
        
        setViewportHeight();
        window.addEventListener('resize', setViewportHeight);
        window.addEventListener('orientationchange', setViewportHeight);
        
        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            // Check if user is returning
            const lastEmail = localStorage.getItem('lastEmail');
            if (lastEmail) {
                document.getElementById('loginEmail').value = lastEmail;
            }
            
            // Touch optimization for mobile
            if ('ontouchstart' in window) {
                document.body.classList.add('touch-device');
                
                // Improve touch responsiveness
                document.querySelectorAll('button, a, input, label').forEach(el => {
                    el.addEventListener('touchstart', function() {
                        this.style.opacity = '0.8';
                    });
                    el.addEventListener('touchend', function() {
                        this.style.opacity = '1';
                    });
                });
            }
        });
        
        // Save email on successful login
        function saveEmail(email) {
            localStorage.setItem('lastEmail', email);
        }
        
        // Clear sensitive data on logout
        function clearAuthData() {
            localStorage.removeItem('lastEmail');
            sessionStorage.clear();
        }
        
        // Performance optimization
        if ('requestIdleCallback' in window) {
            requestIdleCallback(() => {
                // Preload dashboard page
                const link = document.createElement('link');
                link.rel = 'prefetch';
                link.href = '/dashboard';
                document.head.appendChild(link);
            });
        }
        
        // Handle mobile keyboard
        const inputs = document.querySelectorAll('input');
        inputs.forEach(input => {
            input.addEventListener('focus', function() {
                // Scroll to input on mobile
                if (window.innerWidth < 768) {
                    setTimeout(() => {
                        this.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    }, 300);
                }
            });
        });
    </script>
</body>
</html>